@import 'colours';
@import 'typography';
@import 'mi-colours';
@import 'helpers';

$keyWidth: 150px;
$keyBoxSize: 12px;

.hvc-perf {
	position: relative;
}

.hvc-perf_key {
	position: absolute;
	right: 0;
	top: 100px;
	width: $keyWidth;
	@include core-14;
	list-style: none;
}

.hvc-perf_key_item_colour {
	display: inline-block;
	width: $keyBoxSize;
	height: $keyBoxSize;
}

.hvc-perf_key_item_colour--green {
	background-color: $mi-green;
}

.hvc-perf_key_item_colour--amber {
	background-color: $mi-amber;
}

.hvc-perf_key_item_colour--red {
	background-color: $mi-red;
}

.hvc-perf_key_item_colour--grey {
	background-color: $grey-2;
}

.hvc-perf_table {
	border-collapse: collapse;
	border-bottom: 1px solid #000;
	margin-right: $keyWidth;
	line-height: 1.1;
}

.hvc-perf_table_row {

	&:first-of-type {
		border-top: 1px solid #000;
	}
}

.hvc-perf_table_cell_heading {
	@include core-14;
	vertical-align: bottom;
}

.hvc-perf_table_cell_heading--campaign {
	@include bold-16;
	text-align: left;
}

.hvc-perf_table_cell {
	padding: 0.25em 0.5em 0.25em 0.5em;
	position: relative;
	@include core-14;
	overflow: hidden;//IE 11 fix as it calculates the wrong height of .hvc-perf_table_cell_50-percent and .hvc-perf_table_cell_over-percentage 
}

$campaign-width: 20%;
//$campaign-width: 15%;
//$change-width: 5%;
$percent-complete-width: 50%;
$over-target-width: 6%;
$confirmed-width: 8%;
$combined-width: 8%;
$target-width: 8%;

.hvc-perf_table_cell--campaign {
	width: $campaign-width;
	padding-left: 0
}
/*
.hvc-perf_table_cell--change {
	width: $change-width;
}
*/
.hvc-perf_table_cell--percent-complete {
	width: $percent-complete-width;
	border-left: 1px solid #000;
	border-right: 1px solid #000;
	padding-left: 0;
	padding-right: 0;
}

.hvc-perf_table_cell--over-target {
	width: $over-target-width;
	padding-left: 0;
	padding-right: 0;
}

.hvc-perf_table_cell--confirmed {
	text-align: right;
	width: $confirmed-width;
	padding-right: 1.5em;
}

.hvc-perf_table_cell--combined {
	text-align: right;
	width: $combined-width;
	padding-right: 1.5em;
}

.hvc-perf_table_cell--target {
	text-align: right;
	width: $target-width;
	padding-right: 1.5em;
}

.hvc-perf_table_cell_bar {
	display: inline-block;
	height: 20px;
	position: relative;
	z-index: 10;
}

.hvc-perf_table_cell_bar--green {
	background-color: $mi-green;
}

.hvc-perf_table_cell_bar--amber {
	background-color: $mi-amber;
}

.hvc-perf_table_cell_bar--red {
	background-color: $mi-red;
}

.hvc-perf_table_cell_bar--unconfirmed {
	background-color: $grey-3;
}

$parts: ( 100 / 125 );

@mixin leftPosition( $percent ){

	left: ( $parts * $percent );
}

.hvc-perf_table_cell_50-percent {
	position: absolute;
	right: 0;
	top: 0;
	width: ( $parts * 75% );
	height: 250%;//IE 11 fix as it calculates the wrong height!
	border-left: 1px solid $grey-3;
	z-index: 1;
}

.hvc-perf_table_cell_over-percentage {
	position: absolute;
	right: 0;
	top: 0;
	width: ( $parts * 25% );
	height: 250%;//IE 11 fix as it calculates the wrong height!
	background-color: $grey-4;
	border-left: 2px solid #000;
	z-index: 1;
}

.hvc-perf_percent-markers {
	position: relative;
	//width: $percent-complete-width;
	//margin-left: ( $campaign-width + $change-width );
}

.hvc-perf_percent-markers_marker {
	position: absolute;
	top: 0;
	@include core-14;
}

.hvc-perf_percent-markers_marker--0 {
	left: 0;
}

.hvc-perf_percent-markers_marker--25 {
	@include leftPosition( 25% );
}

.hvc-perf_percent-markers_marker--50 {
	@include leftPosition( 50% );
}

.hvc-perf_percent-markers_marker--75 {
	@include leftPosition( 75% );
}

.hvc-perf_percent-markers_marker--100 {
	@include leftPosition( 100% );
}

.hvc-perf_percent-markers_marker--125 {
	@include leftPosition( 125% );
}

.hvc-peft_percent-markers_marker_text {
	margin-left: -50%;
	padding-top: pem( 4, 14 );
	display: inline-block;
}

$over-arrow-size: 10px;

.hvc-perf_table_cell_over-marker {
	width: 0;
	height: 0;
	border-top: $over-arrow-size solid transparent;
	border-bottom: $over-arrow-size solid transparent;
	display: inline-block;
}

.hvc-perf_table_cell_over-marker--green {
	border-left: $over-arrow-size solid $mi-green;
}

.hvc-perf_table_cell_over-marker--amber {
	border-left: $over-arrow-size solid $mi-amber;
}

.hvc-perf_table_cell_over-marker--red {
	border-left: $over-arrow-size solid $mi-red;
}

.hvc-perf_table_cell_over-marker--unconfirmed {
	border-left: $over-arrow-size solid $grey-3;
}


$arrow-size: 10px;

.hvc-perf_table_cell_arrow {
	width: 0;
	height: 0;
	border-left: $arrow-size solid transparent;
	border-right: $arrow-size solid transparent;
	display: inline-block;
}

.hvc-perf_table_cell_arrow--up {
	border-bottom: $arrow-size solid $mi-green;
}

.hvc-perf_table_cell_arrow--down {
	border-top: $arrow-size solid $mi-red;
}
