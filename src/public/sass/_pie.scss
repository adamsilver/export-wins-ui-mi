@import 'mi-colours';
@import 'typography';

$size: 40px;

/*
Pie code taken from https://www.smashingmagazine.com/2015/07/designing-simple-pie-charts-with-css/
Thanks Lea!
*/

.pie {
	position: relative;
	width: $size;
	height: $size;
	line-height: $size;
	border-radius: 50%;
	background: $overview-hvc;
	background-image: linear-gradient(to right, transparent 50%, $overview-non-hvc 0);
	color: transparent;
	text-align: center;
}

.pie--pink {
	background-image: linear-gradient(to right, transparent 50%, $mi-pink 0);
}

.pie--center {
	margin-left: auto;
	margin-right: auto;
}

.pie--inline {
	display: inline-block;
}

@keyframes spin {
	to { transform: rotate( .5turn ); }
}
@keyframes bg {
	50% { background: $overview-non-hvc; }
}

@keyframes bg-pink {
	50% { background: $mi-pink; }
}

.pie::before {
	content: '';
	position: absolute;
	top: 0; left: 50%;
	width: 50%; height: 100%;
	border-radius: 0 100% 100% 0 / 50%;
	background-color: inherit;
	transform-origin: left;
	animation: spin 50s linear infinite, bg 100s step-end infinite;
	animation-play-state: paused;
	animation-delay: inherit;
}

.pie--pink::before {
	animation: spin 50s linear infinite, bg-pink 100s step-end infinite;
	animation-play-state: paused;
	animation-delay: inherit;
}

.pie-key {
	list-style: none;
	padding: 0 0 0 pem( 10 );
}

.pie-key--inline {
	display: inline-block;
}

.pie-key_item {
	@include core-14;
}

.pie-key_block {
	display: inline-block;
	height: 10px;
	width: 10px;
	background-color: $overview-hvc;
	margin-right: pem( 5, 14 );
}

.pie-key_block--slice {
	background-color: $overview-non-hvc;
}

.pie-key--pink {
	.pie-key_block--slice {
		background-color: $mi-pink;
	}
}



$sector-team-size: 70px;
.pie--sector-team {
	width: $sector-team-size;
	height: $sector-team-size;
	line-height: $sector-team-size;
}
